<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compleanno - Invito</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ========== VARIABILI TEMI ========== */
        :root {
            /* Tema 1Â° Compleanno - Baby */
            --color-primary: #ff9ec9;
            --color-secondary: #9ee7ff;
            --color-accent: #ffd166;
            --color-white: #ffffff;
            --color-light-bg: #fff9fb;
            --color-text: #333333;
            --color-light-text: #666666;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            
            /* Font specifici per tema */
            --font-heading: 'Comic Neue', cursive;
            --font-body: 'Montserrat', sans-serif;
        }

        /* Tema 18Â° Compleanno - Giovane */
        .theme-18 {
            --color-primary: #ff6b6b;
            --color-secondary: #4ecdc4;
            --color-accent: #45b7d1;
            --color-light-bg: #f8f9fa;
            --font-heading: 'Poppins', sans-serif;
        }

        /* Tema 50Â° Compleanno - Elegante */
        .theme-50 {
            --color-primary: #8b7355;
            --color-secondary: #d4af37;
            --color-accent: #c0a080;
            --color-light-bg: #f9f7f4;
            --font-heading: 'Playfair Display', serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            color: var(--color-text);
            background-color: var(--color-white);
            line-height: 1.6;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        h1, h2, h3 {
            font-family: var(--font-heading);
            font-weight: 500;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Sidebar Menu */
        .sidebar-menu {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 0 15px 15px 0;
            padding: 20px 10px;
            box-shadow: var(--shadow);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 20px;
            backdrop-filter: blur(5px);
        }

        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--color-light-text);
            transition: all 0.3s ease;
            padding: 10px 5px;
            border-radius: 8px;
        }

        .menu-item:hover {
            color: var(--color-primary);
            background-color: rgba(255, 158, 201, 0.1);
        }

        .menu-item.active {
            color: var(--color-primary);
        }

        .menu-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .menu-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Header */
        header {
            background: var(--theme-header-bg, url('/compleanno/img/background-home-1anno.jpg') center/cover no-repeat);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.7);
            z-index: 0;
        }

        /* Elementi decorativi tema-specifici */
        .theme-decoration {
            position: absolute;
            opacity: 0.1;
            z-index: 0;
        }

        /* Decorazioni 1Â° compleanno */
        .theme-1 .theme-decoration {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23ff9ec9" d="M50,10 C60,20 70,30 70,50 C70,70 60,80 50,90 C40,80 30,70 30,50 C30,30 40,20 50,10 Z"/></svg>') no-repeat center;
        }

        /* Decorazioni 18Â° compleanno */
        .theme-18 .theme-decoration {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon fill="%23ff6b6b" points="50,10 70,40 95,45 75,65 80,90 50,75 20,90 25,65 5,45 30,40"/></svg>') no-repeat center;
        }

        /* Decorazioni 50Â° compleanno */
        .theme-50 .theme-decoration {
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23d4af37" d="M50,10 C65,15 85,20 85,40 C85,60 70,70 60,80 C70,85 80,90 80,95 C80,97 65,95 50,90 C35,95 20,97 20,95 C20,90 30,85 40,80 C30,70 15,60 15,40 C15,20 35,15 50,10 Z"/></svg>') no-repeat center;
        }

        .decoration-left {
            left: -50px;
            top: 20%;
            transform: rotate(-10deg);
            width: 200px;
            height: 300px;
        }

        .decoration-right {
            right: -50px;
            top: 20%;
            transform: scaleX(-1) rotate(-10deg);
            width: 200px;
            height: 300px;
        }

        .header-content {
            position: relative;
            z-index: 1;
            padding: 20px;
        }

        .header-title {
            font-size: 3.5rem;
            color: var(--color-primary);
            margin-bottom: 20px;
            letter-spacing: 2px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }

        .birthday-person {
            font-size: 2.5rem;
            margin: 20px 0;
            color: var(--color-text);
            position: relative;
            display: inline-block;
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
        }

        .birthday-person:before, .birthday-person:after {
            content: "ðŸŽ‰";
            margin: 0 15px;
            font-size: 1.5rem;
        }

        .birthday-details {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: var(--color-text);
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
        }

        .countdown {
            display: flex;
            justify-content: center;
            margin: 40px 0;
            gap: 15px;
        }

        .countdown-item {
            background-color: var(--color-white);
            border-radius: 10px;
            padding: 15px 10px;
            min-width: 80px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 158, 201, 0.2);
        }

        .countdown-number {
            font-size: 2rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .countdown-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: var(--color-light-text);
        }

        /* Sezioni */
        section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 50px;
            color: var(--color-primary);
            position: relative;
        }

        .section-title:after {
            content: "";
            display: block;
            width: 80px;
            height: 2px;
            background-color: var(--color-primary);
            margin: 15px auto;
        }

        .section-bg {
            background-color: var(--color-light-bg);
        }

        /* NUOVA SEZIONE INVITO */
        .invito-section {
            padding: 80px 0;
        }

        .invito-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1000px;
            margin: 0 auto;
            gap: 50px;
        }

        .invito-image {
            flex: 1;
            position: relative;
            max-width: 400px;
        }

        .invito-frame {
            width: 100%;
            height: 500px;
            border: 15px solid var(--color-primary);
            border-radius: 10px;
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            background-color: var(--color-white);
        }

        .invito-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .invito-text {
            flex: 1;
            padding: 20px;
        }

        .invito-title {
            font-size: 2.5rem;
            color: var(--color-text);
            margin-bottom: 30px;
            line-height: 1.2;
        }

        .invito-message {
            font-size: 1.1rem;
            color: var(--color-light-text);
            line-height: 1.8;
            margin-bottom: 20px;
        }

        /* Festeggiati (ex Famiglia) */
        .family-members {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
        }

        .family-member {
            text-align: center;
            width: 200px;
        }

        .member-icon {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: var(--color-white);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: var(--shadow);
            border: 2px solid var(--color-primary);
            overflow: hidden;
        }

        .member-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .member-icon i {
            font-size: 2rem;
            color: var(--color-primary);
        }

        .member-role {
            font-size: 0.9rem;
            color: var(--color-primary);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .member-name {
            font-size: 1.2rem;
            color: var(--color-text);
        }

        /* Rettangolo Festeggiato */
        .birthday-person-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 auto 40px;
            max-width: 500px;
        }

        .birthday-person-image {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            overflow: hidden;
            margin-bottom: 20px;
            border: 3px solid var(--color-primary);
            box-shadow: var(--shadow);
        }

        .birthday-person-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .birthday-person-rectangle {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 25px 20px;
            border: 1px solid var(--color-primary);
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .birthday-person-rectangle:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .birthday-person-rectangle::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
        }

        .birthday-person-rectangle::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
        }

        .birthday-person-name {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--color-text);
            margin-bottom: 15px;
            text-align: center;
        }

        .birthday-person-message {
            font-family: var(--font-body);
            font-size: 1rem;
            color: var(--color-light-text);
            text-align: center;
            line-height: 1.5;
            max-width: 90%;
        }

        /* Luoghi */
        .ceremony-details {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
        }

        .detail-card {
            background-color: var(--color-white);
            border-radius: 15px;
            padding: 30px;
            width: 300px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 158, 201, 0.2);
            transition: transform 0.3s ease;
        }

        .detail-card:hover {
            transform: translateY(-10px);
        }

        .detail-icon {
            font-size: 2.5rem;
            color: var(--color-primary);
            margin-bottom: 20px;
        }

        .detail-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--color-text);
        }

        .detail-text {
            color: var(--color-light-text);
        }

        /* RSVP */
        .rsvp-form {
            max-width: 600px;
            margin: 0 auto;
            background-color: var(--color-white);
            padding: 40px;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--color-text);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255, 158, 201, 0.3);
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            display: inline-block;
            background-color: var(--color-primary);
            color: var(--color-white);
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-family: var(--font-body);
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
        }

        .btn:hover {
            background-color: var(--color-accent);
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        /* Galleria */
        .gallery-multi-container {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
            overflow: hidden;
        }

        .gallery-multi-track {
            display: flex;
            transition: transform 0.5s ease;
            gap: 10px;
            padding: 5px 0;
        }

        .gallery-group {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            min-width: 100%;
            flex-shrink: 0;
        }

        .gallery-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            aspect-ratio: 1/1;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            max-width: 200px;
            max-height: 200px;
            margin: 0 auto;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .gallery-item.empty-placeholder {
            display: none !important;
        }

        .gallery-multi-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }

        .gallery-multi-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255, 158, 201, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-multi-indicator.active {
            background-color: var(--color-primary);
            transform: scale(1.2);
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 10px;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: white;
            font-size: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .lightbox-close:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.1);
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .lightbox-nav:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .lightbox-prev {
            left: 20px;
        }

        .lightbox-next {
            right: 20px;
        }

        .lightbox-caption {
            color: white;
            text-align: center;
            margin-top: 15px;
            font-size: 1.1rem;
        }

        /* Contatti */
        .contact-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-top: 40px;
        }

        .contact-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 10px;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--color-white);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .contact-icon i {
            font-size: 1.2rem;
            color: var(--color-primary);
        }

        .contact-name {
            font-weight: 500;
            color: var(--color-text);
        }

        .contact-text {
            color: var(--color-text);
        }

        /* Sezione Countdown */
        #countdown-section {
            position: relative;
            background: var(--theme-countdown-bg, url('/compleanno/img/background-timer-1anno.jpg') center/cover no-repeat);
            padding: 80px 0;
            overflow: hidden;
        }

        #countdown-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.85);
            z-index: 1;
        }

        #countdown-section .container {
            position: relative;
            z-index: 2;
        }

        #countdown-section .section-title {
            color: var(--color-text);
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
        }

        #countdown-section .countdown-item {
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--color-primary);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* Footer */
        footer {
            background-color: var(--color-light-bg);
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 158, 201, 0.3);
            margin-top: 60px;
        }

        .footer-text {
            font-family: var(--font-heading);
            font-size: 1.3rem;
            color: var(--color-text);
            margin: 0;
            padding: 0 20px;
            position: relative;
            display: inline-block;
        }

        .footer-text:before, .footer-text:after {
            content: "ðŸŽ‚";
            margin: 0 15px;
            font-size: 1.2rem;
        }

        /* Stili per la sezione upload */
        .success-message { 
            background-color: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb; 
        }
        .error-message { 
            background-color: #f8d7da; 
            color: #721c24; 
            border: 1px solid #f5c6cb; 
        }
        .info-message { 
            background-color: #d1ecf1; 
            color: #0c5460; 
            border: 1px solid #bee5eb; 
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar-menu {
                display: none;
            }
            
            .header-title {
                font-size: 2.5rem;
            }
            
            .birthday-person {
                font-size: 2rem;
            }
            
            .countdown {
                flex-wrap: wrap;
            }
            
            .countdown-item {
                min-width: 70px;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .detail-card {
                width: 100%;
                max-width: 300px;
            }
            
            .rsvp-form {
                padding: 20px;
            }
            
            .birthday-person-container {
                margin-bottom: 30px;
            }
            
            .birthday-person-image {
                width: 100px;
                height: 100px;
            }
            
            .birthday-person-name {
                font-size: 1.5rem;
            }
            
            .birthday-person-message {
                font-size: 0.9rem;
            }
            
            .invito-container {
                flex-direction: column;
                gap: 30px;
            }
            
            .invito-frame {
                height: 400px;
            }
            
            .invito-title {
                font-size: 2rem;
            }
            
            .member-icon {
                width: 120px;
                height: 120px;
            }

            footer {
                padding: 30px 0;
                margin-top: 40px;
            }
            
            .footer-text {
                font-size: 1.1rem;
            }
            
            .footer-text:before, .footer-text:after {
                margin: 0 10px;
                font-size: 1rem;
            }

            .lightbox-close {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
                font-size: 1.5rem;
            }

            .lightbox-nav {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }

            .lightbox-prev {
                left: 10px;
            }

            .lightbox-next {
                right: 10px;
            }
        }

        /* Animazioni */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 1s ease forwards;
        }

        .theme-element {
            position: absolute;
            border-radius: 50%;
            opacity: 0.3;
            animation: float 3s infinite alternate;
        }

        @keyframes float {
            0% { transform: translateY(0px); opacity: 0.2; }
            100% { transform: translateY(-20px); opacity: 0.5; }
        }

        /* Indicatore Tema Attivo */
        .theme-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--color-primary);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            z-index: 1000;
            box-shadow: var(--shadow);
        }
    </style>
</head>
<body class="theme-1">
    <!-- Indicatore Tema -->
    <div class="theme-indicator" id="themeIndicator">1Â° Compleanno</div>

    <!-- Sidebar Menu -->
    <nav class="sidebar-menu">
        <a href="#home" class="menu-item active">
            <i class="fas fa-home menu-icon"></i>
            <span class="menu-label">Home</span>
        </a>
        <a href="#invito" class="menu-item">
            <i class="fas fa-envelope-open-text menu-icon"></i>
            <span class="menu-label">Invito</span>
        </a>
        <a href="#festeggiati" class="menu-item">
            <i class="fas fa-heart menu-icon"></i>
            <span class="menu-label">Festeggiati</span>
        </a>
        <a href="#luoghi" class="menu-item">
            <i class="fas fa-map-marker-alt menu-icon"></i>
            <span class="menu-label">Location</span>
        </a>
        <a href="#rsvp" class="menu-item">
            <i class="fas fa-envelope menu-icon"></i>
            <span class="menu-label">RSVP</span>
        </a>
        <a href="#gallery" class="menu-item">
            <i class="fas fa-images menu-icon"></i>
            <span class="menu-label">Galleria</span>
        </a>
        <a href="#contatti" class="menu-item">
            <i class="fas fa-phone menu-icon"></i>
            <span class="menu-label">Contatti</span>
        </a>
    </nav>

    <!-- Header -->
    <header id="home">
        <div class="header-overlay"></div>
        <div class="theme-decoration decoration-left"></div>
        <div class="theme-decoration decoration-right"></div>
        
        <div class="header-content fade-in">
            <h1 class="header-title" id="headerTitle">Compleanno</h1>
            <h2 class="birthday-person" id="birthdayPersonName">Emma Rossi</h2>
            <p class="birthday-details" id="birthdayDetails">Compie 1 anno!</p>
            
            <div class="countdown" id="countdown">
                <div class="countdown-item">
                    <div class="countdown-number" id="days">00</div>
                    <div class="countdown-label">Giorni</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="hours">00</div>
                    <div class="countdown-label">Ore</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="minutes">00</div>
                    <div class="countdown-label">Minuti</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="seconds">00</div>
                    <div class="countdown-label">Secondi</div>
                </div>
            </div>
        </div>
    </header>

    <!-- SEZIONE INVITO -->
    <section id="invito" class="invito-section">
        <div class="container">
            <div class="invito-container fade-in">
                <div class="invito-image">
                    <div class="invito-frame">
                        <img id="invitoImage" src="/compleanno/img/profile-1anno.jpg" alt="Immagine Compleanno">
                    </div>
                </div>
                <div class="invito-text">
                    <h2 class="invito-title">Siete invitati al mio<br>Compleanno!</h2>
                    <p class="invito-message" id="invitoText1">
                        Mamma e papÃ  mi hanno preparato una festa indimenticabile e sarebbe un piacere immenso poter essere insieme in questo giorno speciale.
                    </p>
                    <p class="invito-message" id="invitoText2">
                        Ci saranno giochi, dolci e tante sorprese per tutti i bambini e i grandi che vorranno festeggiare con me questo traguardo importante!
                    </p>
                    <p class="invito-message" id="invitoText3">
                        Non vedo l'ora di condividere con te questo giorno speciale!
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Festeggiati (ex Famiglia) -->
    <section id="festeggiati" class="section-bg">
        <div class="container">
            <h2 class="section-title">I Festeggiati</h2>
            
            <!-- Rettangolo Festeggiato Principale -->
            <div class="birthday-person-container fade-in">
                <div class="birthday-person-image">
                    <img id="profileImage" src="/compleanno/img/profile-1anno.jpg" alt="Festeggiato">
                </div>
                <div class="birthday-person-rectangle">
                    <div class="birthday-person-name" id="birthdayPersonCardName">Emma â™¡</div>
                    <div class="birthday-person-message" id="birthdayPersonMessage">
                        Se sei arrivato qui, significa che sei speciale per me e sarei felice se fossi con noi in un giorno cosÃ¬ importante!
                    </div>
                </div>
            </div>
            
            <div class="family-members">
                <div class="family-member fade-in">
                    <p class="member-role">Genitori</p>
                    <h3 class="member-name" id="parentsName">Marco e Laura Rossi</h3>
                </div>
                
                <div class="family-member fade-in">
                    <p class="member-role">Testimoni Speciali</p>
                    <h3 class="member-name" id="specialGuestsName">Alessandro e Giulia Bianchi</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Sezione Countdown -->
    <section id="countdown-section">
        <div class="container">
            <h2 class="section-title">Ancora poco al grande giorno:</h2>
            <div class="countdown" id="newCountdown">
                <div class="countdown-item">
                    <div class="countdown-number" id="newDays">00</div>
                    <div class="countdown-label">Giorni</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="newHours">00</div>
                    <div class="countdown-label">Ore</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="newMinutes">00</div>
                    <div class="countdown-label">Minuti</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="newSeconds">00</div>
                    <div class="countdown-label">Secondi</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Luoghi -->
    <section id="luoghi">
        <div class="container">
            <h2 class="section-title">Dove e Quando</h2>
            <div class="ceremony-details">
                <div class="detail-card fade-in">
                    <div class="detail-icon">
                        <i class="far fa-calendar-alt"></i>
                    </div>
                    <h3 class="detail-title">Data e Ora</h3>
                    <p class="detail-text" id="partyDate">Sabato, 10 Giugno 2023</p>
                    <p class="detail-text" id="partyTime">Ore 15:00</p>
                </div>
                
                <div class="detail-card fade-in">
                    <div class="detail-icon">
                        <i class="fas fa-birthday-cake"></i>
                    </div>
                    <h3 class="detail-title">Location Festa</h3>
                    <p class="detail-text" id="partyLocation">Salone Eventi "Il Giardino Incantato"</p>
                    <p class="detail-text" id="partyAddress">Piazza della Festa, 1 - Milano</p>
                </div>
                
                <div class="detail-card fade-in">
                    <div class="detail-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <h3 class="detail-title">Rinfresco</h3>
                    <p class="detail-text" id="receptionLocation">Buffet e Dolci</p>
                    <p class="detail-text" id="receptionAddress">Servizio catering incluso</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP -->
    <section id="rsvp">
        <div class="container">
            <h2 class="section-title">Conferma Partecipazione</h2>
            <div class="rsvp-form fade-in">
                <form action="send_email.php" method="POST">
                    <div class="form-group">
                        <label class="form-label" for="guestName">Nome e Cognome *</label>
                        <input type="text" id="guestName" name="name" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="guestEmail">Email *</label>
                        <input type="email" id="guestEmail" name="email" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="guestPhone">Telefono *</label>
                        <input type="tel" id="guestPhone" name="phone" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="adultsCount">Numero di adulti *</label>
                        <select id="adultsCount" name="adults" class="form-select" required>
                            <option value="" disabled selected>Seleziona</option>
                            <option value="1">1 adulto</option>
                            <option value="2">2 adulti</option>
                            <option value="3">3 adulti</option>
                            <option value="4">4 adulti</option>
                            <option value="5">5 o piÃ¹ adulti</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="childrenCount">Numero di bambini *</label>
                        <select id="childrenCount" name="children" class="form-select" required>
                            <option value="" disabled selected>Seleziona</option>
                            <option value="0">Nessun bambino</option>
                            <option value="1">1 bambino</option>
                            <option value="2">2 bambini</option>
                            <option value="3">3+ bambini</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="guestMessage">Messaggio (opzionale)</label>
                        <textarea id="guestMessage" name="message" class="form-textarea" placeholder="Scrivi un messaggio per i festeggiati..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-block">Conferma Partecipazione</button>
                    <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: var(--color-light-text);">
                        Riceverai una conferma della tua partecipazione
                    </p>
                </form>
            </div>
        </div>
    </section>

    <!-- Gallery -->
    <section id="gallery" class="section-bg">
        <div class="container">
            <h2 class="section-title">Galleria</h2>
            
            <!-- Pulsante Carica Foto -->
            <div id="upload-section" style="display: none; margin-bottom: 30px;">
                <div class="upload-container fade-in" style="text-align: center; padding: 20px; background-color: var(--color-white); border-radius: 10px; box-shadow: var(--shadow);">
                    <h3 style="color: var(--color-primary); margin-bottom: 15px;">Condividi i tuoi ricordi</h3>
                    <p style="color: var(--color-light-text); margin-bottom: 20px;">Carica le foto del compleanno (max 5MB per foto)</p>
                    
                    <form id="upload-form" enctype="multipart/form-data">
                        <div style="margin-bottom: 15px;">
                            <input type="file" id="photo-upload" name="photos[]" multiple accept="image/*" style="display: none;">
                            <label for="photo-upload" class="btn" style="cursor: pointer; display: inline-block;">
                                <i class="fas fa-cloud-upload-alt"></i> Seleziona Foto
                            </label>
                        </div>
                        
                        <div id="file-list" style="margin: 15px 0; text-align: left; max-width: 400px; margin-left: auto; margin-right: auto;"></div>
                        
                        <button type="submit" class="btn" style="background-color: var(--color-primary);">
                            <i class="fas fa-paper-plane"></i> Carica Foto
                        </button>
                    </form>
                    
                    <div id="upload-message" style="margin-top: 15px;"></div>
                </div>
            </div>
            
            <!-- Galleria Multi-Immagine -->
            <div class="gallery-multi-container fade-in">
                <div class="gallery-multi-track" id="galleryMultiTrack">
                    <!-- I gruppi di immagini verranno generati dinamicamente qui -->
                </div>
            </div>
            <div class="gallery-multi-indicators" id="galleryMultiIndicators">
                <!-- Gli indicatori verranno generati dinamicamente qui -->
            </div>
        </div>
    </section>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" onclick="closeLightbox()">
            <i class="fas fa-times"></i>
        </button>
        <button class="lightbox-nav lightbox-prev" onclick="lightboxPrev()">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="lightbox-nav lightbox-next" onclick="lightboxNext()">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="lightbox-content">
            <img class="lightbox-img" id="lightboxImg" src="" alt="">
            <div class="lightbox-caption" id="lightboxCaption"></div>
        </div>
    </div>

    <!-- Contatti -->
    <section id="contatti" class="section-bg">
        <div class="container">
            <h2 class="section-title">Contatti</h2>
            <div class="contact-info">
                <div class="contact-item fade-in">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="contact-name" id="contactName1">Mamma Laura</div>
                    <div class="contact-text" id="contactPhone1">+39 123 456 7890</div>
                </div>
                
                <div class="contact-item fade-in">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="contact-name" id="contactName2">PapÃ  Marco</div>
                    <div class="contact-text" id="contactPhone2">+39 098 765 4321</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="footer-text" id="footerText">Con affetto, la famiglia Rossi</p>
        </div>
    </footer>

    <script>
        // ========== SISTEMA TEMI ==========
        
        // Configurazione temi
        const themes = {
            'theme-1': {
                name: '1Â° Compleanno',
                colors: {
                    primary: '#ff9ec9',
                    secondary: '#9ee7ff', 
                    accent: '#ffd166',
                    lightBg: '#fff9fb'
                },
                fonts: {
                    heading: '"Comic Neue", cursive',
                    body: '"Montserrat", sans-serif'
                },
                images: {
                    headerBg: '/compleanno/img/background-home-1anno.jpg',
                    countdownBg: '/compleanno/img/background-timer-1anno.jpg',
                    profile: '/compleanno/img/profile-1anno.jpg'
                },
                decorations: 'ðŸŽˆðŸŽ‰ðŸ§¸'
            },
            'theme-18': {
                name: '18Â° Compleanno', 
                colors: {
                    primary: '#ff6b6b',
                    secondary: '#4ecdc4',
                    accent: '#45b7d1',
                    lightBg: '#f8f9fa'
                },
                fonts: {
                    heading: '"Poppins", sans-serif',
                    body: '"Montserrat", sans-serif'
                },
                images: {
                    headerBg: '/compleanno/img/background-home-18anni.jpg',
                    countdownBg: '/compleanno/img/background-timer-18anni.jpg',
                    profile: '/compleanno/img/profile-18anni.jpg'
                },
                decorations: 'ðŸŽŠðŸŽ¸ðŸŒŸ'
            },
            'theme-50': {
                name: '50Â° Compleanno',
                colors: {
                    primary: '#8b7355',
                    secondary: '#d4af37',
                    accent: '#c0a080',
                    lightBg: '#f9f7f4'
                },
                fonts: {
                    heading: '"Playfair Display", serif',
                    body: '"Montserrat", sans-serif'  
                },
                images: {
                    headerBg: '/compleanno/img/background-home-50anni.jpg',
                    countdownBg: '/compleanno/img/background-timer-50anni.jpg',
                    profile: '/compleanno/img/profile-50anni.jpg'
                },
                decorations: 'ðŸŽ‚ðŸ¥‚âœ¨'
            }
        };

        // Carica tema salvato
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('birthdayTheme') || 'theme-1';
            applyTheme(savedTheme);
        }

        // Applica tema
        function applyTheme(themeClass) {
            // Rimuovi tutte le classi tema
            document.body.classList.remove('theme-1', 'theme-18', 'theme-50');
            // Aggiungi classe tema selezionato
            document.body.classList.add(themeClass);
            
            const theme = themes[themeClass];
            
            // Aggiorna indicatori
            document.getElementById('themeIndicator').textContent = theme.name;
            
            // Aggiorna immagini tema
            updateThemeImages(theme.images);
            
            // Salva preferenza
            localStorage.setItem('birthdayTheme', themeClass);
            
            console.log(`Tema applicato: ${theme.name}`);
        }

        // Aggiorna immagini in base al tema
        function updateThemeImages(images) {
            // Header background
            document.querySelector('header').style.backgroundImage = `url('${images.headerBg}')`;
            
            // Countdown section background  
            document.getElementById('countdown-section').style.backgroundImage = `url('${images.countdownBg}')`;
            
            // Profile images
            const profileImages = document.querySelectorAll('#profileImage, #invitoImage');
            profileImages.forEach(img => {
                img.src = images.profile;
            });
        }

        // ========== FUNZIONI ESISTENTI ADATTATE ==========
        
        // Funzione per ottenere la data dell'evento dal localStorage
        function getEventDate() {
            const savedDate = localStorage.getItem('birthdayEventDate');
            const savedTime = localStorage.getItem('birthdayEventTime');
            
            if (savedDate && savedTime) {
                return new Date(`${savedDate}T${savedTime}`).getTime();
            }
            
            // Data di fallback predefinita
            return new Date('2023-06-10T15:00:00').getTime();
        }
        
        // Countdown principale nell'header
        function updateCountdown() {
            const eventDate = getEventDate();
            const now = new Date().getTime();
            const distance = eventDate - now;
            
            if (distance < 0) {
                document.getElementById('countdown').style.display = 'none';
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById('days').innerHTML = days.toString().padStart(2, '0');
            document.getElementById('hours').innerHTML = hours.toString().padStart(2, '0');
            document.getElementById('minutes').innerHTML = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').innerHTML = seconds.toString().padStart(2, '0');
        }
        
        // Nuovo countdown nella sezione dedicata
        function updateNewCountdown() {
            const eventDate = getEventDate();
            const now = new Date().getTime();
            const distance = eventDate - now;
            
            if (distance < 0) {
                document.getElementById('newCountdown').innerHTML = "<h3>Il grande giorno Ã¨ arrivato!</h3>";
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById('newDays').innerHTML = days.toString().padStart(2, '0');
            document.getElementById('newHours').innerHTML = hours.toString().padStart(2, '0');
            document.getElementById('newMinutes').innerHTML = minutes.toString().padStart(2, '0');
            document.getElementById('newSeconds').innerHTML = seconds.toString().padStart(2, '0');
        }
        
        // Carica i dati dal localStorage e aggiorna la pagina
        function loadAdminData() {
            console.log("Caricamento dati admin...");
            
            // Home
            const birthdayPersonName = localStorage.getItem('birthdayPersonName');
            const birthdayDetails = localStorage.getItem('birthdayDetails');
            
            if (birthdayPersonName) {
                document.getElementById('birthdayPersonName').textContent = birthdayPersonName;
                document.getElementById('birthdayPersonCardName').textContent = birthdayPersonName.split(' ')[0] + ' â™¡';
            }
            if (birthdayDetails) {
                document.getElementById('birthdayDetails').textContent = birthdayDetails;
            }
            
            // Invito
            const invitoText1 = localStorage.getItem('invitoText1');
            const invitoText2 = localStorage.getItem('invitoText2');
            const invitoText3 = localStorage.getItem('invitoText3');
            const invitoImage = localStorage.getItem('invitoImage');
            
            if (invitoText1) document.getElementById('invitoText1').textContent = invitoText1;
            if (invitoText2) document.getElementById('invitoText2').textContent = invitoText2;
            if (invitoText3) document.getElementById('invitoText3').textContent = invitoText3;
            if (invitoImage) document.getElementById('invitoImage').src = invitoImage;
            
            // Festeggiati
            const birthdayPersonMessage = localStorage.getItem('birthdayPersonMessage');
            const parentsName = localStorage.getItem('parentsName');
            const specialGuestsName = localStorage.getItem('specialGuestsName');
            const profileImage = localStorage.getItem('profileImage');
            
            if (birthdayPersonMessage) document.getElementById('birthdayPersonMessage').textContent = birthdayPersonMessage;
            if (parentsName) document.getElementById('parentsName').textContent = parentsName;
            if (specialGuestsName) document.getElementById('specialGuestsName').textContent = specialGuestsName;
            
            // IMMAGINE PROFILO
            if (profileImage) {
                document.getElementById('profileImage').src = profileImage;
            }
            
            // Luoghi
            const partyLocation = localStorage.getItem('partyLocation');
            const partyAddress = localStorage.getItem('partyAddress');
            const receptionLocation = localStorage.getItem('receptionLocation');
            const receptionAddress = localStorage.getItem('receptionAddress');
            
            if (partyLocation) document.getElementById('partyLocation').textContent = partyLocation;
            if (partyAddress) document.getElementById('partyAddress').textContent = partyAddress;
            if (receptionLocation) document.getElementById('receptionLocation').textContent = receptionLocation;
            if (receptionAddress) document.getElementById('receptionAddress').textContent = receptionAddress;
            
            // Contatti
            const contactName1 = localStorage.getItem('contactName1');
            const contactName2 = localStorage.getItem('contactName2');
            const contactPhone1 = localStorage.getItem('contactPhone1');
            const contactPhone2 = localStorage.getItem('contactPhone2');
            
            if (contactName1) document.getElementById('contactName1').textContent = contactName1;
            if (contactName2) document.getElementById('contactName2').textContent = contactName2;
            if (contactPhone1) document.getElementById('contactPhone1').textContent = contactPhone1;
            if (contactPhone2) document.getElementById('contactPhone2').textContent = contactPhone2;
            
            // Footer
            const footerText = localStorage.getItem('footerText');
            if (footerText) document.getElementById('footerText').textContent = footerText;
            
            // Countdown - aggiorna data e ora della festa
            updatePartyDetails();
        }
        
        // Aggiorna i dettagli della festa in base alla data salvata
        function updatePartyDetails() {
            const savedDate = localStorage.getItem('birthdayEventDate');
            const savedTime = localStorage.getItem('birthdayEventTime');
            
            if (savedDate && savedTime) {
                const eventDate = new Date(`${savedDate}T${savedTime}`);
                const options = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric'
                };
                const timeOptions = {
                    hour: '2-digit',
                    minute: '2-digit'
                };
                
                const formattedDate = eventDate.toLocaleDateString('it-IT', options);
                const formattedTime = eventDate.toLocaleTimeString('it-IT', timeOptions);
                
                document.getElementById('partyDate').textContent = formattedDate;
                document.getElementById('partyTime').textContent = `Ore ${formattedTime}`;
            }
        }

        // ========== INIZIALIZZAZIONE ==========
        window.onload = function() {
            console.log('=== PAGINA CARICATA ===');
            
            // CARICA TEMA
            loadSavedTheme();
            
            // ANIMAZIONI
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, index * 200);
            });
            
            // ELEMENTI DECORATIVI TEMATICI
            createThemeElements();
            
            // MENU ATTIVO
            handleActiveMenu();
            
            // CARICA DATI ADMIN
            loadAdminData();
            
            // UPLOAD
            checkUploadVisibility();
            setupFileUpload();
            
            // COUNTDOWN
            updateCountdown();
            updateNewCountdown();
            
            // RSVP
            const rsvpForm = document.querySelector('form[action="send_email.php"]');
            if (rsvpForm) {
                rsvpForm.addEventListener('submit', function(e) {
                    const formData = new FormData(this);
                    saveRSVPToLocalStorage(formData);
                });
            }
            
            // GALLERIA
            setTimeout(() => {
                console.log('ðŸŽ¯ Inizializzazione galleria...');
                loadGalleryImages();
                setupTouchEvents();
            }, 500);
        };

        // AGGIORNA COUNTDOWN
        setInterval(updateCountdown, 1000);
        setInterval(updateNewCountdown, 1000);
        setInterval(checkUploadVisibility, 60000);

        // Crea elementi decorativi tematici
        function createThemeElements() {
            const header = document.querySelector('header');
            for (let i = 0; i < 15; i++) {
                const element = document.createElement('div');
                element.className = 'theme-element';
                element.style.width = Math.random() * 10 + 5 + 'px';
                element.style.height = element.style.width;
                element.style.left = Math.random() * 100 + '%';
                element.style.top = Math.random() * 100 + '%';
                element.style.animationDelay = Math.random() * 3 + 's';
                element.style.backgroundColor = getComputedStyle(document.documentElement).getPropertyValue('--color-primary');
                header.appendChild(element);
            }
        }
        
        // Gestione menu attivo durante lo scroll
        function handleActiveMenu() {
            const sections = document.querySelectorAll('section, header');
            const menuItems = document.querySelectorAll('.menu-item');
            
            window.addEventListener('scroll', function() {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (scrollY >= (sectionTop - 200)) {
                        current = section.getAttribute('id');
                    }
                });
                
                menuItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href').substring(1) === current) {
                        item.classList.add('active');
                    }
                });
            });
        }

        // ========== FUNZIONI GALLERIA (mantenute dalla versione originale) ==========
        // ... [tutto il codice JavaScript per galleria, lightbox, upload etc. rimane uguale]
        // Le funzioni loadGalleryImages, setupFileUpload, etc. vengono mantenute identiche

    </script>
</body>
</html>